{
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "ls && cd ./client && bun run start && cd ..",
    "start": "node server.js",
    "start-local": "DEV=TRUE GOOGLE_APPLICATION_CREDENTIALS=./config/service_keys/call-to-action-2afc3-82ae4cc2b811.json bun run start",
    "test-client": "cd ./client && DEV=TRUE GOOGLE_APPLICATION_CREDENTIALS=./config/service_keys/call-to-action-2afc3-82ae4cc2b811.json bun test --bail && cd ..",
    "test-server": "DEV=TRUE GOOGLE_APPLICATION_CREDENTIALS=./config/service_keys/call-to-action-2afc3-82ae4cc2b811.json bun test --bail",
    "test": "bun run test-client && bun run test-server",
    "auth": "docker login && gcloud auth login",
    "install-all": "bun install && cd client && bun install && cd ..",
    "docker-start": "open /Applications/Docker.app",
    "docker-build": "docker build -t us-central1-docker.pkg.dev/$CALL_TO_ACTION_ID/api/test-image . && gcloud builds submit --tag us-central1-docker.pkg.dev/$CALL_TO_ACTION_ID/api/test-image",
    "deploy-cloud-run": "gcloud run deploy call-to-action --image us-central1-docker.pkg.dev/$CALL_TO_ACTION_ID/api/test-image --region us-central1 --platform managed --min-instances 1 --cpu 1 --no-cpu-throttling",
    "deploy-client": "echo 'Deploying client...' && cd client && bun run build && cd .. && firebase deploy --only hosting",
    "deploy-server": "echo 'Deploying server...' && bun run docker-build && bun run deploy-cloud-run",
    "deploy": "bun run test && bun run deploy-client && bun run deploy-server",
    "deploy-server-local": "bun run test-client docker build --cache-from local/test-image -t local/test-image . && ls && docker run -it -p 8080:8080 -e DEBUG=TRUE -e PORT=8080 -e DEV=TRUE -e GOOGLE_APPLICATION_CREDENTIALS=./config/service_keys/call-to-action-2afc3-82ae4cc2b811.json local/test-image",
    "deploy-server-local-shell": "bun run test-client docker build --cache-from local/test-image -t local/test-image . && ls && docker run -it -p 8080:8080 -e DEBUG=TRUE -e PORT=8080 -e DEV=TRUE -e GOOGLE_APPLICATION_CREDENTIALS=./config/service_keys/call-to-action-2afc3-82ae4cc2b811.json local/test-image sh"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "@firebase/firestore": "^4.1.3",
    "@google-cloud/firestore": "^6.7.0",
    "@google-cloud/logging": "^11.0.0",
    "@google-cloud/secret-manager": "^5.0.1",
    "@google-cloud/speech": "^6.0.2",
    "@postlight/mercury-parser": "^2.2.1",
    "alawmulaw": "^6.0.0",
    "audio-resampler": "^1.0.1",
    "axios": "^1.5.0",
    "base64-stream": "^1.0.0",
    "cheerio": "^1.0.0-rc.12",
    "firebase-admin": "^11.10.1",
    "firebase-functions": "^4.4.1",
    "fluent-ffmpeg": "^2.1.2",
    "get-stream": "^8.0.1",
    "mime-types": "^2.1.35",
    "openai": "^4.6.0",
    "pdf-parse": "^1.1.1",
    "pdfreader": "^3.0.2",
    "stream": "^0.0.2",
    "streamifier": "^0.1.1",
    "twilio": "^4.17.0",
    "twilio-media-stream-save-audio-file": "^0.0.3",
    "util": "^0.12.5",
    "wav": "^1.0.2",
    "wave-resampler": "^1.0.0",
    "wavefile": "^11.0.0",
    "wink-eng-lite-web-model": "^1.5.2",
    "wink-nlp": "^1.14.3",
    "ws": "^8.14.1"
  },
  "devDependencies": {
    "eslint": "^8.49.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.33.2",
    "firebase-functions-test": "^3.1.0",
    "jest": "^29.7.0"
  },
  "private": true
}
